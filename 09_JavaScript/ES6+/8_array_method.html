<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- * -->
  <h2>입력한 값보다 나이가 많은 사람 찾기</h2>
  <input type="number" id="ageToCheck" value="30">
  <button type="button" onclick="searchFunc()">Test</button>

  <script>
    // 유용한 배열 메소드(ES5)

    // 1. array.map(function(currentValue, index))
    // 기존 배열의 요소를 이용하여 새로운 배열을 만듦
    // 기존 배열의 각 요소에 대해 한 번씩 함수를 호출하고 반환하는 값으로 새로운 배열을 만듦
    // 원래 배열을 변경하지 않음

    // 배열의 모든 값에 10을 곱한 새 배열 만들기
    const numbers = [65, 44, 12, 4];
    const newNumbers = numbers.map((num) => {
      return num * 10;
    });
    // const newNumbers = numbers.map(num => num * 10);
    console.log(newNumbers);

    // 각 사람의 전체 이름을 가진 새 배열 만들기
    const persons = [
      { firstName: 'Goni', lastName: 'Kim' },
      { firstName: 'Zero', lastName: 'Cho' },
      { firstName: 'Velopert', lastName: 'Kim' }
    ];

    // Quiz: ['Goni Kim', 'Zero Cho', 'Velopert Kim']
    const newPersons = persons.map((item) => {
      console.log(item);
      return `${item.firstName} ${item.lastName}`;
    });
    console.log(newPersons);

    // 2. array.filter(function(currentValue, index))
    // 제공된 테스트 함수를 통과하는 요소들만 따로 추출하여 새 배열을 만듦
    // 테스트 함수에서는 true 또는 false를 반환해야 하며, 여기서 true를 반환하는 경우만 새로운 배열에 포함됨
    // 원래 배열을 변경하지 않음

    // ages 배열에서 19세 이상인 모든 값들로 새 배열을 만들어 반환
    const ages = [32, 33, 16, 40];
    const newAges = ages.filter((age) => {
      return age >= 19;
    });
    console.log(newAges);

    // 활용Tip: 검색 기능(또는 필터링 기능) 만들때 유용
    // * 참조
    const students = [
      { name: 'Goni', age: 36 },
      { name: 'Pony', age: 32 },
      { name: 'Tony', age: 12 },
      { name: 'Moly', age: 24 },
      { name: 'Noni', age: 45 }
    ];

    const searchFunc = () => {
      const ageToCheckValue = document.querySelector('#ageToCheck').value;
      // console.log(ageToCheckValue);
      const searchStudents = students.filter((student) => {
        return student.age > ageToCheckValue;
      });

      console.log(searchStudents);
    };

    // 새로운 배열 메소드(ES6)

    // 1. Array.from(object)
    // 배열스러운, 즉 배열처럼 보이지만 배열이 아닌 객체를 받아서 실제 배열로 변환해 반환
    // 변환할 수 없으면 빈 배열을 반환
    // 적용 가능한 예: 인덱스와 길이 속성(length)이 있는 객체나 반복 가능한 객체

    // (참고) 이터러블과 유사 배열
    // 이터러블(iterable)은 메서드 Symbol.iterator가 구현된 객체
    // 유사 배열(array-like)은 인덱스와 length 프로퍼티가 있어서 배열처럼 보이는 객체
    // 이터러블 객체라고 해서 유사 배열 객체는 아님. 유사 배열 객체라고 해서 이터러블 객체인 것도 아님.
    // 이터러블 객체나 유사 배열 객체 혹은 둘 다인 객체가 있음
    // 더 공부하려면? https://ko.javascript.info/iterable


  </script>
</body>
</html>